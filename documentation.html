<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Academic Information System - Documentation</title>
    <style>
        body { font-family: 'Times New Roman', serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1, h2, h3 { color: #2E4053; }
        h1 { text-align: center; border-bottom: 2px solid #2E4053; padding-bottom: 10px; }
        .center { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        code { background-color: #f4f4f4; padding: 2px 5px; border-radius: 3px; font-family: monospace; }
        pre { background-color: #f4f4f4; padding: 10px; border-radius: 5px; overflow-x: auto; }
        .page-break { page-break-after: always; }
    </style>
</head>
<body>

    <div class="center">
        <h1>ACADEMIC INFORMATION SYSTEM (AIS)</h1>
        <h2>Project Description and Documentation</h2>
        <p><strong>Vilniaus Kolegija / University of Applied Sciences</strong><br>
        <strong>Faculty of Electronics and Informatics</strong></p>
        <br>
        <p><strong>Student:</strong> [Your Name]<br>
        <strong>Group:</strong> [Your Group]<br>
        <strong>Date:</strong> 2025-12-02</p>
    </div>

    <div class="page-break"></div>

    <h2>Contents</h2>
    <ol>
        <li><a href="#1-introduction">Introduction</a></li>
        <li><a href="#2-functional-requirements">Functional Requirements</a></li>
        <li><a href="#3-technical-requirements">Technical Requirements</a></li>
        <li><a href="#4-object-oriented-programming-principles">Object-Oriented Programming Principles</a></li>
        <li><a href="#5-technical-documentation">Technical Documentation</a></li>
        <li><a href="#6-user-documentation">User Documentation</a></li>
        <li><a href="#7-source-code">Source Code</a></li>
    </ol>

    <div class="page-break"></div>

    <h2 id="1-introduction">1. Introduction</h2>

    <h3 id="11-objective">1.1 Objective</h3>
    <p>The objective of this project is to create a prototype of an Academic Information System (AIS) that digitizes the process of recording and viewing student evaluations. The system is designed to handle distinct user roles (Administrator, Teacher, Student) with specific rights and access controls, simulating a real-world academic environment.</p>

    <h3 id="12-purpose">1.2 Purpose</h3>
    <p>The system serves as a centralized platform where:</p>
    <ul>
        <li><strong>Administrators</strong> manage the fundamental study data, including student groups, lecturers, students, and subjects.</li>
        <li><strong>Lecturers (Teachers)</strong> have the authority to register, edit, and view grades for the subjects they teach.</li>
        <li><strong>Students</strong> can securely view their own assessments and academic progress.</li>
    </ul>
    <p>This project implements a three-tier architecture (UI, Logic, Data) and adheres to Object-Oriented Programming (OOP) principles to ensure scalability and maintainability.</p>

    <h2 id="2-functional-requirements">2. Functional Requirements</h2>
    <p>The system implements the following functional requirements as specified in the assignment:</p>
    <table>
        <thead>
            <tr>
                <th>No.</th>
                <th>Requirement</th>
                <th>Implementation Details</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td><strong>User Roles</strong></td>
                <td>Three distinct roles: <strong>Administrator</strong>, <strong>Teacher</strong>, <strong>Student</strong>. Login is role-based.</td>
            </tr>
            <tr>
                <td>2</td>
                <td><strong>Admin: Manage Data</strong></td>
                <td>Administrator can create and delete Student Groups, Teachers, Students, and Subjects.</td>
            </tr>
            <tr>
                <td>3</td>
                <td><strong>Admin: Assignments</strong></td>
                <td>Administrator assigns Teachers to Subjects and Students/Subjects to Groups.</td>
            </tr>
            <tr>
                <td>4</td>
                <td><strong>Teacher: Grades</strong></td>
                <td>Teachers can enter, edit, and view grades only for the subjects they are assigned to teach.</td>
            </tr>
            <tr>
                <td>5</td>
                <td><strong>Student: View Grades</strong></td>
                <td>Students can only view their own grades. Access is restricted based on their login session.</td>
            </tr>
            <tr>
                <td>6</td>
                <td><strong>Login Details</strong></td>
                <td>Automatic credential generation: <strong>Login = First Name</strong>, <strong>Password = Last Name</strong>.</td>
            </tr>
            <tr>
                <td>7</td>
                <td><strong>Dialog Forms</strong></td>
                <td>Data entry and editing (e.g., assigning subjects) are performed via modal dialog forms for better UX.</td>
            </tr>
            <tr>
                <td>8</td>
                <td><strong>Database</strong></td>
                <td>Data is stored in a relational database (PostgreSQL) containing Users, Subjects, Groups, Grades, and their relationships.</td>
            </tr>
            <tr>
                <td>9</td>
                <td><strong>Login Logic</strong></td>
                <td>The UI adapts dynamically based on the logged-in user's role (e.g., Admin sees a management sidebar, Students see only their grades).</td>
            </tr>
        </tbody>
    </table>

    <h2 id="3-technical-requirements">3. Technical Requirements</h2>
    <table>
        <thead>
            <tr>
                <th>No.</th>
                <th>Requirement</th>
                <th>Implementation Details</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td><strong>Database Storage</strong></td>
                <td><strong>PostgreSQL</strong> is used as the RDBMS. Tables include <code>User</code>, <code>Student</code>, <code>Teacher</code>, <code>Admin</code>, <code>Group</code>, <code>Subject</code>, <code>Grade</code>, <code>SubjectGroup</code>.</td>
            </tr>
            <tr>
                <td>2</td>
                <td><strong>Object Model</strong></td>
                <td>Prisma ORM defines the object model. Classes/Models in code (<code>User</code>, <code>Student</code>, etc.) directly correspond to database tables.</td>
            </tr>
            <tr>
                <td>3</td>
                <td><strong>Data Access Abstraction</strong></td>
                <td>The system uses a <strong>Service Layer</strong> pattern (<code>AdminService</code>, <code>TeacherService</code>, <code>StudentService</code>) to abstract direct database operations from the UI.</td>
            </tr>
            <tr>
                <td>4</td>
                <td><strong>Error Handling</strong></td>
                <td>The backend implements global error handling middleware. The frontend uses <code>try-catch</code> blocks and displays user-friendly toast notifications (via <code>sonner</code>) for errors like "Failed to save grade".</td>
            </tr>
            <tr>
                <td>5</td>
                <td><strong>Basic Architecture</strong></td>
                <td><strong>Frontend (Next.js)</strong> &harr; <strong>API Layer (Express/Node.js)</strong> &harr; <strong>Database (PostgreSQL)</strong>.</td>
            </tr>
        </tbody>
    </table>

    <h2 id="4-object-oriented-programming-principles">4. Object-Oriented Programming Principles</h2>
    <p>The project demonstrates the following OOP principles:</p>

    <h3>Encapsulation</h3>
    <p>Data and behavior are bundled within classes and services.</p>
    <ul>
        <li><strong>Example</strong>: The <code>User</code> model encapsulates properties like <code>login</code> and <code>password</code>. Access to these fields is controlled through the API, and sensitive operations (like password hashing) are handled internally within the Auth service.</li>
        <li><strong>Code</strong>: <code>UserService</code> contains private logic for user validation that is not exposed to the Controller.</li>
    </ul>

    <h3>Inheritance</h3>
    <p>The system uses a hierarchical user structure.</p>
    <ul>
        <li><strong>Example</strong>: <code>Student</code>, <code>Teacher</code>, and <code>Admin</code> are specialized entities that logically inherit from the base <code>User</code> entity. In the database, they share a common <code>User</code> table for authentication details (ID, Name, Login) while maintaining separate tables for role-specific data (e.g., <code>Student</code> has <code>groupId</code>).</li>
    </ul>

    <h3>Polymorphism</h3>
    <p>Different roles interact with the system differently.</p>
    <ul>
        <li><strong>Example</strong>: The "Dashboard" concept is polymorphic.
            <ul>
                <li><code>Admin</code> dashboard shows system statistics.</li>
                <li><code>Teacher</code> dashboard shows assigned subjects.</li>
                <li><code>Student</code> dashboard shows personal grades.</li>
                <li>The frontend renders the appropriate dashboard component based on the user's role type.</li>
            </ul>
        </li>
    </ul>

    <h3>Abstraction</h3>
    <p>Complex logic is hidden behind simple interfaces.</p>
    <ul>
        <li><strong>Example</strong>: The <code>AuthService</code> abstracts the complexity of JWT token generation and verification. The frontend simply calls <code>login()</code> and receives a token, without needing to know the underlying encryption details.</li>
        <li><strong>Example</strong>: The <code>AdminService</code> provides high-level methods like <code>assignSubjectToGroup</code>, hiding the complex SQL/Prisma join operations required to link these entities.</li>
    </ul>

    <h3>SOLID Principles</h3>
    <ul>
        <li><strong>Single Responsibility</strong>: Each Service (e.g., <code>StudentService</code>, <code>TeacherService</code>) handles logic only relevant to that specific domain.</li>
        <li><strong>Open/Closed</strong>: The system is designed to allow adding new roles or features (e.g., a "Parent" role) without modifying existing core authentication logic.</li>
        <li><strong>Interface Segregation</strong>: The API endpoints are segregated by role (<code>/admin</code>, <code>/teacher</code>, <code>/student</code>), ensuring clients only depend on the methods they use.</li>
    </ul>

    <h2 id="5-technical-documentation">5. Technical Documentation</h2>

    <h3 id="51-class-diagram">5.1 Class Diagram</h3>
    <p>The following diagram represents the core classes and their relationships within the system's domain model.</p>
    <pre>
class User {
    +int id
    +string firstName
    +string lastName
    +string login
    +string password
    +UserRole role
}

class Student {
    +int id
    +int userId
    +int groupId
    +viewGrades()
}

class Teacher {
    +int id
    +int userId
    +enterGrade()
    +editGrade()
}

class Admin {
    +int id
    +int userId
    +manageUsers()
    +manageGroups()
    +manageSubjects()
}

User <|-- Student
User <|-- Teacher
User <|-- Admin
    </pre>

    <h3 id="52-database-structure-erd">5.2 Database Structure (ERD)</h3>
    <p>The Entity-Relationship Diagram (ERD) shows the database schema and foreign key constraints.</p>
    <pre>
User ||--o| Student : "is a"
User ||--o| Teacher : "is a"
User ||--o| Admin : "is a"
Group ||--|{ Student : "contains"
Teacher ||--|{ Subject : "teaches"
Subject ||--|{ Grade : "has"
Student ||--|{ Grade : "receives"
Group ||--|{ SubjectGroup : "has"
Subject ||--|{ SubjectGroup : "belongs to"
    </pre>

    <h3 id="53-description-of-methods">5.3 Description of Methods</h3>
    <p>The business logic is encapsulated in Service classes. Below are the key methods:</p>

    <h4><strong>AuthService</strong></h4>
    <ul>
        <li><code>login(login, password)</code>: Authenticates credentials against the <code>User</code> table. Returns a signed JWT containing the user's ID and Role.</li>
        <li><code>validate(token)</code>: Decodes the JWT to verify session validity.</li>
    </ul>

    <h4><strong>AdminService</strong></h4>
    <ul>
        <li><code>getAllUsers()</code>: Fetches all users joined with their specific role data.</li>
        <li><code>createUser(data)</code>: Creates a <code>User</code> record and the corresponding <code>Student</code> or <code>Teacher</code> record transactionally.</li>
        <li><code>assignStudentToGroup(userId, groupId)</code>: Updates the <code>groupId</code> foreign key on the <code>Student</code> record.</li>
        <li><code>assignSubjectToGroup(groupId, subjectId)</code>: Creates a many-to-many relationship record in <code>SubjectGroup</code>.</li>
        <li><code>removeSubjectFromGroup(groupId, subjectId)</code>: Deletes the relationship record from <code>SubjectGroup</code>.</li>
    </ul>

    <h4><strong>TeacherService</strong></h4>
    <ul>
        <li><code>getAssignedSubjects(teacherId)</code>: Returns all <code>Subject</code> records where <code>teacherId</code> matches the logged-in teacher.</li>
        <li><code>getStudentsBySubject(subjectId)</code>: Finds all <code>Groups</code> assigned to the subject, then retrieves all <code>Students</code> in those groups.</li>
        <li><code>createGrade(studentId, subjectId, value)</code>: Inserts a new <code>Grade</code> record.</li>
        <li><code>updateGrade(gradeId, value)</code>: Updates the <code>value</code> of an existing <code>Grade</code>.</li>
    </ul>

    <h4><strong>StudentService</strong></h4>
    <ul>
        <li><code>getMyGrades(studentId)</code>: Retrieves all <code>Grade</code> records for the student, joined with <code>Subject</code> details.</li>
    </ul>

    <h2 id="6-user-documentation">6. User Documentation</h2>

    <h3 id="61-task-formulation">6.1 Task Formulation</h3>
    <p>The goal is to implement an Academic Information System where:</p>
    <ol>
        <li><strong>Administrators</strong> set up the educational structure (Groups, Subjects, Teachers).</li>
        <li><strong>Teachers</strong> perform the core academic function of grading.</li>
        <li><strong>Students</strong> consume this information by viewing their results.</li>
    </ol>

    <h3 id="62-login-data-generation">6.2 Login Data Generation</h3>
    <p>To facilitate easy testing and usage:</p>
    <ul>
        <li>When an Administrator creates a new user (Student or Teacher), they only provide the <strong>First Name</strong> and <strong>Last Name</strong>.</li>
        <li>The system <strong>automatically</strong> sets:
            <ul>
                <li><strong>Login</strong>: The provided First Name.</li>
                <li><strong>Password</strong>: The provided Last Name.</li>
            </ul>
        </li>
        <li><em>Example</em>: Creating a student named "John Doe" results in Login: <code>John</code>, Password: <code>Doe</code>.</li>
    </ul>

    <h3 id="63-user-manual">6.3 User Manual</h3>

    <h4><strong>6.3.1 Logging In</strong></h4>
    <ol>
        <li>Navigate to the home page (<code>/</code>).</li>
        <li>Enter your generated <strong>Login</strong> and <strong>Password</strong>.</li>
        <li>Click <strong>"Sign in"</strong>.</li>
    </ol>

    <h4><strong>6.3.2 Administrator Role</strong></h4>
    <p><em>Access Level: Full System Control</em></p>
    <ul>
        <li><strong>Dashboard</strong>: Overview of total system counts.</li>
        <li><strong>Student Management</strong>:
            <ul>
                <li>Go to "Students".</li>
                <li><strong>Create</strong>: Click "Add Student", enter name.</li>
                <li><strong>Assign Group</strong>: Click the "Edit" (Pencil) icon next to a student, select a Group from the dialog, and save.</li>
            </ul>
        </li>
        <li><strong>Teacher Management</strong>:
            <ul>
                <li>Go to "Teachers".</li>
                <li><strong>Create</strong>: Click "Add Teacher", enter name.</li>
            </ul>
        </li>
        <li><strong>Group Management</strong>:
            <ul>
                <li>Go to "Groups".</li>
                <li><strong>Create</strong>: Click "Add Group", enter name (e.g., "IT-2024").</li>
                <li><strong>Manage Subjects</strong>: Click the "Settings" (Gear) icon. A dialog opens where you can <strong>Add</strong> subjects to the group or <strong>Remove</strong> existing ones.</li>
            </ul>
        </li>
        <li><strong>Subject Management</strong>:
            <ul>
                <li>Go to "Subjects".</li>
                <li><strong>Create</strong>: Click "Add Subject", enter name.</li>
                <li><strong>Assign Teacher</strong>: Click the "Edit" icon to assign a specific Teacher to the subject.</li>
            </ul>
        </li>
    </ul>

    <h4><strong>6.3.3 Teacher Role</strong></h4>
    <p><em>Access Level: Grade Management</em></p>
    <ul>
        <li><strong>My Subjects</strong>: The dashboard lists all subjects you are assigned to teach.</li>
        <li><strong>Grading</strong>:
            <ul>
                <li>Click "Manage Grades" on a subject card.</li>
                <li>A list of all students taking this subject (via their groups) is displayed.</li>
                <li><strong>Enter Grade</strong>: Type a value (1-10) in the input field.</li>
                <li><strong>Save</strong>: Click the "Save" button. A success notification will appear.</li>
                <li><strong>Edit</strong>: Simply change the value and click "Save" again.</li>
            </ul>
        </li>
    </ul>

    <h4><strong>6.3.4 Student Role</strong></h4>
    <p><em>Access Level: Read-Only</em></p>
    <ul>
        <li><strong>My Grades</strong>: The dashboard displays a table of your subjects.</li>
        <li><strong>View</strong>: See the Subject Name, the Teacher, and your Grade.</li>
        <li><strong>Status</strong>: If no grade is assigned, it displays "N/A".</li>
    </ul>

    <h2 id="7-source-code">7. Source Code</h2>
    <p>The complete source code for this project is hosted on GitHub.</p>
    <p><strong>Repository Link:</strong> <a href="https://github.com/icerahi/viko-ais">https://github.com/icerahi/viko-ais</a></p>

</body>
</html>
